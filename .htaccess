<IfModule mod_rewrite.c>
    <IfModule mod_negotiation.c>
        Options -MultiViews
    </IfModule>

    RewriteEngine On

    # Redirect Trailing Slashes If Not A Folder...
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)/$ /$1 [L,R=301]

    # Handle Front Controller...
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    # RewriteRule ^ index.php [L]


    RewriteRule ^ public [L]


    # RewriteEngine On
    RewriteCond %{HTTP:Authorization} ^(.*)
    RewriteRule .* - [e=HTTP_AUTHORIZATION:%1]


    RewriteCond %{REQUEST_FILENAME} !\.(css|js|png|jpg|pdf)$

    <Files ~ "\.(env|config.js|md|xml|gitignore|gitattributes|lock|editorconfig|yml|styleci.yml|composer.lock|composer.json)$">
    Order allow,deny
    Deny from all
</Files>
Options -Indexes
# Prevent access to specific file types
<FilesMatch "\.(env|ini|log|htaccess|git|composer.json|composer.lock)">
    Order allow,deny
    Deny from all
</FilesMatch>

# Prevent access to specific directories
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteRule ^(storage|vendor|app|database) - [F,L,NC]
</IfModule>

<Files ~ "(artisan|package.json|webpack.mix.js|composer.json)$">
    Order allow,deny
    Deny from all
</Files>
<Files composer.json>
Order Allow,Deny
Deny from all
</Files>

 </IfModule>
